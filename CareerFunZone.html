<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Career Fun Zone</title>
    <link
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,200italic,300,300italic,regular,italic,600,600italic,700,700italic,900,900italic"
        rel="stylesheet" />
        <link rel="stylesheet" href="style.css">
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<style>
    body {
        font-family: "Source Sans Pro";
        background-color: #dde;
    }

    .CFZ-intro {
        font-size: 25px;
        text-align: center;
    }

    h1 {
        font-size: 30px;
        text-align: center;
    }

    text {
        font-family: Helvetica, Arial, sans-serif;
        font-size: 11px;
        pointer-events: none;
    }

    #chart {
        width: 500px;
        height: 500px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #question h1 {
        font-size: 35px;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    #chart svg {
        transform: rotate(90deg);
    }

    .game-1,
    .game-2 {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        flex-direction: column;
    }

    #chart1 {
        width: 500px;
        height: 500px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #question1 h1 {
        font-size: 35px;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    #chart1 svg {
        transform: rotate(90deg);
    }

    .game-3 {
        display: flex;
        align-items: center;
        flex-direction: column;
    }

    @media screen and (max-width: 644px) and (min-width: 425px) {
        .game-3 img {
            width: 425px;
        }

        #chart1,
        #chart {
            width: 425px;
        }
    }

    @media screen and (max-width: 424px) and (min-width: 320px) {
        .game-3 img {
            width: 320px;
        }

        #chart1,
        #chart {
            width: 320px;
        }
    }
     @media screen and (max-width: 425px) and (min-width: 320px) {
        #question h1,
        #question1 h1{
            font-size: 24px;
        }
    }
</style>

<body>

    <section class="CFZ-intro">
        <h1>Career Fun Zone</h1>
        <p>These career based games are just for fun to boost up your interest in career streams.</p>
        <h2><b>ENJOY FREE CAREER GAMES PLAY NOW </b></h2>
    </section>
    <h1>BREAK YOUR CONFUSIONS WITH LC HIGHWAY </h1>
    <section class="game4">
        <canvas id="myCanvas" class="responsive-canvas" width="800" height="300"></canvas>
    </section>
    <script>
    
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var ballRadius = 10;
        var x = canvas.width/2;
        var y = canvas.height-30;
        var dx = 2;
        var dy = -2;
        var paddleHeight = 10;
        var paddleWidth = 75;
        var paddleX = (canvas.width-paddleWidth)/2;
        var rightPressed = false;
        var leftPressed = false;
        var brickRowCount = 5;
        var brickColumnCount = 3;
        var brickWidth = 75;
        var brickHeight = 20;
        var brickPadding = 10;
        var brickOffsetTop = 30;
        var brickOffsetLeft = 30;
        var score = 15;
        var lives = 10;
        
        var bricks = [];
        for(c=0; c<brickColumnCount; c++) {
            bricks[c] = [];
            for(r=0; r<brickRowCount; r++) {
                bricks[c][r] = { x: 0, y: 0, status: 1 };
            }
        }
        
        document.addEventListener("keydown", keyDownHandler, false);
        document.addEventListener("keyup", keyUpHandler, false);
        document.addEventListener("mousemove", mouseMoveHandler, false);
        
        function keyDownHandler(e) {
            if(e.keyCode == 39) {
                rightPressed = true;
            }
            else if(e.keyCode == 37) {
                leftPressed = true;
            }
        }
        function keyUpHandler(e) {
            if(e.keyCode == 39) {
                rightPressed = false;
            }
            else if(e.keyCode == 37) {
                leftPressed = false;
            }
        }
        function mouseMoveHandler(e) {
            var relativeX = e.clientX - canvas.offsetLeft;
            if(relativeX > 0 && relativeX < canvas.width) {
                paddleX = relativeX - paddleWidth/2;
            }
        }
        function collisionDetection() {
            for(c=0; c<brickColumnCount; c++) {
                for(r=0; r<brickRowCount; r++) {
                    var b = bricks[c][r];
                    if(b.status == 1) {
                        if(x > b.x && x < b.x+brickWidth && y > b.y && y < b.y+brickHeight) {
                            dy = -dy;
                            b.status = 0;
                            score--;
                            if(score == 0) {
                                alert("you won :)!");
                                document.location.reload();
                            }
                        }
                    }
                }
            }
        }
        
        function drawBall() {
            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI*2);
            ctx.fillStyle = "#90217F";
            ctx.fill();
            ctx.closePath();
        }
        function drawPaddle() {
            ctx.beginPath();
            ctx.rect(paddleX, canvas.height-paddleHeight, paddleWidth, paddleHeight);
            ctx.fillStyle = "#0095DD";
            ctx.fill();
            ctx.closePath();
        }
        function drawBricks() {
            for(c=0; c<brickColumnCount; c++) {
                for(r=0; r<brickRowCount; r++) {
                    if(bricks[c][r].status == 1) {
                        var brickX = (r*(brickWidth+brickPadding))+brickOffsetLeft;
                        var brickY = (c*(brickHeight+brickPadding))+brickOffsetTop;
                        bricks[c][r].x = brickX;
                        bricks[c][r].y = brickY;
                        ctx.beginPath();
                        ctx.rect(brickX, brickY, brickWidth, brickHeight);
                        ctx.fillStyle = "#ff2500";
                        ctx.fill();
                        ctx.closePath();
                    }
                }
            }
        }
        function drawScore() {
            ctx.font = "14px Open Sans";
            ctx.fillStyle = "#000000";
            ctx.fillText("Confusions: "+score, 8, 20);
        }
        function drawLives() {
            ctx.font = "14px Open Sans";
            ctx.fillStyle = "#000000";
            ctx.fillText("Lives: "+lives, canvas.width-65, 20);
        }
        
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBricks();
            drawBall();
            drawPaddle();
            drawScore();
            drawLives();
            collisionDetection();
            
            if(x + dx > canvas.width-ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if(y + dy < ballRadius) {
                dy = -dy;
            }
            else if(y + dy > canvas.height-ballRadius) {
                if(x > paddleX && x < paddleX + paddleWidth) {
                    dy = -dy;
                }
                else {
                    lives--;
                    if(!lives) {
                        alert("GAME OVER");
                        document.location.reload();
                    }
                    else {
                        x = canvas.width/2;
                        y = canvas.height-30;
                        dx = 3;
                        dy = -3;
                        paddleX = (canvas.width-paddleWidth)/2;
                    }
                }
            }
            
            if(rightPressed && paddleX < canvas.width-paddleWidth) {
                paddleX += 7;
            }
            else if(leftPressed && paddleX > 0) {
                paddleX -= 7;
            }
            
            x += dx;
            y += dy;
            requestAnimationFrame(draw);
        }
            draw();
        
        </script>
  
  <!-- <button onclick="Play()">Play</button> -->
    <h1>PROFESSION SPIN WHEEL GAME </h1>
    <section class="game-1">
        <div id="question">
            <h1></h1>
        </div>
        <div id="chart"></div>
    </section>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>

  
    <h1>WORD PUZZLE</h1>
   <section class="game-3">
       <div id='crossword_board'></div><br>
   </section>
   <script>
    var blocks = 150
const cb = document.querySelector('#crossword_board')
var md = false
var num_words = 5

function addBlocks() {
  for(var i=0;i<blocks;i++){
    var b = document.createElement('div')
    b.className = 'block'
    cb.appendChild(b)
  }
}

function addWords(){  
  var words = ['programmer','accountant','artist','engineer','doctor','farmer','soilder','pilot','writer', 'teacher'] 
  // max word length of 10
  words.sort(() => Math.random() - 0.5);
  words = words.slice(0,num_words)

  var arr = [];
  while(arr.length < 5){
    var r = Math.floor(Math.random() * 10);
    if(arr.indexOf(r) === -1) arr.push(r);
  }

  words.forEach(function(elm){
    var word_length = elm.length
    var offset = Math.floor(Math.random()*(11-word_length))
    var w_start = offset + (arr[0] * 10)
    arr.shift()    
    elm.split('').forEach(function(e){
      var b = document.querySelectorAll('.block')[w_start]
      b.innerHTML = e
      b.classList.add('letter')
      b.classList.add(elm)
      b.onmousedown = function() {
        this.classList.add('letter_pop')
        // this.style.background = this.classList[2]
        if(document.querySelectorAll('.'+elm+'.letter_pop').length == elm.length) {
          document.querySelectorAll('.listed_word').forEach(function(e){
            if(e.innerHTML == elm) {
              e.classList.add('found_word')
              document.documentElement.style.setProperty('--bg-color', e.innerHTML)
            }
          })
        }
        setTimeout(you_win, 500)
      }
      b.onmouseenter = function() {
        if(md) {
          this.classList.add('letter_pop')
          this.style.background = this.classList[2]
          if(document.querySelectorAll('.'+elm+'.letter_pop').length == elm.length) {
            document.querySelectorAll('.listed_word').forEach(function(e){
              if(e.innerHTML == elm) {
                e.classList.add('found_word')
                document.documentElement.style.setProperty('--bg-color', "turquoise")
              }
            })
          }
          setTimeout(you_win, 500)
        }        
      }

      if(elm.split('').indexOf(e) == 0 
         && (b.previousSibling
             && !b.previousSibling.classList.contains(elm)) 
         || !b.previousSibling) {
        b.classList.add('first_letter')
      }
      if(elm.split('').indexOf(e) == elm.split('').length - 1) {
        b.classList.add('last_letter')
      }      
      w_start++
    })
    var w = document.createElement('div')
    w.className = 'listed_word'
    w.innerHTML = elm
    document.body.appendChild(w)
  })    
}

function you_win() {
  if(document.querySelectorAll('.found_word').length == num_words) {
    md = false
    cb.removeEventListener('mousedown', mouse_down)
    cb.removeEventListener('mouseup', mouse_down)

    cb.classList.add('game_winner')
  }
}

const alphabet = 'abcdefghijklmnopqrstuvwxyz'
function fillInEmpty() {
  var b = document.querySelectorAll('.block')
  b.forEach(function(elm){
    if(elm.innerHTML == '') {
      var letter = alphabet.split('')[Math.floor(Math.random()*alphabet.length)]
      elm.innerHTML = letter
    }
  })
}

addBlocks()
addWords()
fillInEmpty() 

function mouse_down(event) {
  if(!md) {
    md = true
  } else {
    md = false
  }

  if(event.type == 'touchmove') {
    var block = document.elementFromPoint(event.touches[event.touches.length - 1].clientX, event.touches[event.touches.length - 1].clientY)
    if(block.classList.contains('letter')) {
      block.style.background = block.classList[2]
      block.classList.add('letter_pop')      
    }
    var elm = block.classList[2]
    if(document.querySelectorAll('.'+elm+'.letter_pop').length == elm.length) {
      document.querySelectorAll('.listed_word').forEach(function(e){
        if(e.innerHTML == elm) {
          e.classList.add('found_word')
          document.documentElement.style.setProperty('--bg-color', e.innerHTML)
        }
      })
    }
    setTimeout(you_win, 500)
  }
}

function setGameUp() {
  cb.innerHTML = ''
  cb.className = ''
  document.documentElement.style.setProperty('--bg-color', '#666')
  document.querySelectorAll('.listed_word').forEach(function(e){
    e.remove()
  })

  addBlocks()
  addWords()
  fillInEmpty() 

  cb.addEventListener('mousedown', mouse_down)
  cb.addEventListener('mouseup', mouse_down)
  cb.addEventListener('touchmove', mouse_down)
}

setGameUp()
</script>
   <h1>PROFESSION COLLEGE WHEEL GAME</h1>
   <section class="game-2">
       <div id="question1">
           <h1></h1>
       </div>
       <div id="chart1"></div>
   </section>
   <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</body>

<script>
    console.log(screen.width)

    if (screen.width < 350) {
        var padding = { top: 20, right: 40, bottom: 0, left: 0 },
            w = 320 - padding.left - padding.right,
            h = 320 - padding.top - padding.bottom,
            r = Math.min(w, h) / 2,
            rotation = 0,
            oldrotation = 0,
            picked = 100000,
            oldpick = [],
            color = d3.scale.category20(),
            ra = 45
    }
    else if (screen.width < 425) {
        var padding = { top: 20, right: 40, bottom: 0, left: 0 },
            w = 350 - padding.left - padding.right,
            h = 350 - padding.top - padding.bottom,
            r = Math.min(w, h) / 2,
            rotation = 0,
            oldrotation = 0,
            picked = 100000,
            oldpick = [],
            color = d3.scale.category20(),
            ra = 60;
    }
    else if (screen.width < 514) {
        console.log("YES")
        var padding = { top: 20, right: 40, bottom: 0, left: 0 },
            w = 400 - padding.left - padding.right,
            h = 400 - padding.top - padding.bottom,
            r = Math.min(w, h) / 2,
            rotation = 0,
            oldrotation = 0,
            picked = 100000,
            oldpick = [],
            color = d3.scale.category20(),
            ra=60;
    }
    else {
        var padding = { top: 20, right: 40, bottom: 0, left: 0 },
            w = 500 - padding.left - padding.right,
            h = 500 - padding.top - padding.bottom,
            r = Math.min(w, h) / 2,
            rotation = 0,
            oldrotation = 0,
            picked = 100000,
            oldpick = [],
            color = d3.scale.category20(),
            ra=60;
    }

    var data = [
        { "label": "Engineer", "value": 1, "question": "You will be an Engineer" }, // padding
        { "label": "Doctor", "value": 2, "question": "You will be a Doctor" }, //font-family
        { "label": "Scientist", "value": 3, "question": "You will be a Scientist" }, //color
        { "label": "Bank Manager", "value": 4, "question": "You will be a Bank Manager" }, //font-weight
        { "label": "Soilder", "value": 5, "question": "You will be a Soilder" }, //font-size
        { "label": "Pilot", "value": 6, "question": "You will be a Pilot" }, //background-color
        { "label": "Buisnessman", "value": 7, "question": "You will be a Buisnessman" }, //nesting
        { "label": "Politician", "value": 8, "question": "You will be a Politician" }, //bottom
        { "label": "Advisor", "value": 9, "question": "You will be a Advisor" }, //sans-serif
        { "label": "Counsellor", "value": 10, "question": "You will be a Counsellor " }
    ];
    var svg = d3.select('#chart')
        .append("svg")
        .data([data])
        .attr("width", w + padding.left + padding.right)
        .attr("height", h + padding.top + padding.bottom);
    var container = svg.append("g")
        .attr("class", "chartholder")
        .attr("transform", "translate(" + (w / 2 + padding.left) + "," + (h / 2 + padding.top) + ")");
    var vis = container
        .append("g");

    var pie = d3.layout.pie().sort(null).value(function (d) { return 1; });
    // declare an arc generator function
    var arc = d3.svg.arc().outerRadius(r);
    // select paths, use arc generator to draw
    var arcs = vis.selectAll("g.slice")
        .data(pie)
        .enter()
        .append("g")
        .attr("class", "slice");

    arcs.append("path")
        .attr("fill", function (d, i) { return color(i); })
        .attr("d", function (d) { return arc(d); });
    // add the text
    arcs.append("text").attr("transform", function (d) {
        d.innerRadius = 0;
        d.outerRadius = r;
        d.angle = (d.startAngle + d.endAngle) / 2;
        return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")translate(" + (d.outerRadius - 10) + ")";
    })
        .attr("text-anchor", "end")
        .text(function (d, i) {
            return data[i].label;
        });
    container.on("click", spin);
    function spin(d) {

        container.on("click", null);
        //all slices have been seen, all done
        console.log("OldPick: " + oldpick.length, "Data length: " + data.length);
        if (oldpick.length == data.length) {
            console.log("done");
            container.on("click", null);
            return;
        }
        var ps = 360 / data.length,
            pieslice = Math.round(1440 / data.length),
            rng = Math.floor((Math.random() * 1440) + 360);

        rotation = (Math.round(rng / ps) * ps);

        picked = Math.round(data.length - (rotation % 360) / ps);
        picked = picked >= data.length ? (picked % data.length) : picked;
        if (oldpick.indexOf(picked) !== -1) {
            d3.select(this).call(spin);
            return;
        } else {
            oldpick.push(picked);
        }
        rotation += 90 - Math.round(ps / 2);
        vis.transition()
            .duration(3000)
            .attrTween("transform", rotTween)
            .each("end", function () {
                //mark question as seen
                d3.select(".slice:nth-child(" + (picked + 1) + ") path")
                    .attr("fill", "#111");
                //populate question
                d3.select("#question h1")
                    .text(data[picked].question);
                oldrotation = rotation;

                /* Get the result value from object "data" */
                console.log(data[picked].value)

                /* Comment the below line for restrict spin to sngle time */
                container.on("click", spin);
            });
    }
    //make arrow
    svg.append("g")
        .attr("transform", "translate(" + (w + padding.left + padding.right) + "," + ((h / 2) + padding.top) + ")")
        .append("path")
        .attr("d", "M-" + (r * .15) + ",0L0," + (r * .05) + "L0,-" + (r * .05) + "Z")
        .style({ "fill": "black" });
    //draw spin circle
    container.append("circle")
        .attr("cx", 0)
        .attr("cy", 0)
        .attr("r", ra)
        .style({ "fill": "white", "cursor": "pointer" });
    //spin text
    container.append("text")
        .attr("x", 0)
        .attr("y", 15)
        .attr("text-anchor", "middle")
        .text("SPIN")
        .style({ "font-weight": "bold", "font-size": "30px", "transform": "rotate(-90deg)" });


    function rotTween(to) {
        var i = d3.interpolate(oldrotation % 360, rotation);
        return function (t) {
            return "rotate(" + i(t) + ")";
        };
    }


    function getRandomNumbers() {
        var array = new Uint16Array(1000);
        var scale = d3.scale.linear().range([360, 1440]).domain([0, 100000]);
        if (window.hasOwnProperty("crypto") && typeof window.crypto.getRandomValues === "function") {
            window.crypto.getRandomValues(array);
            console.log("works");
        } else {
            //no support for crypto, get crappy random numbers
            for (var i = 0; i < 1000; i++) {
                array[i] = Math.floor(Math.random() * 100000) + 1;
            }
        }
        return array;
    }
</script>

<script>
    console.log("scree")
    if (screen.width < 350) {
        var padding1 = { top: 20, right: 40, bottom: 0, left: 0 },
            w1 = 320 - padding1.left - padding1.right,
            h1 = 320 - padding1.top - padding1.bottom,
            r1 = Math.min(w1, h1) / 2,
            rotation1 = 0,
            oldrotation1 = 0,
            picked1 = 100000,
            oldpick1 = [],
            color1 = d3.scale.category20(),
            ra=45;
    }
    else if (screen.width < 425) {
        var padding1 = { top: 20, right: 40, bottom: 0, left: 0 },
            w1 = 350 - padding1.left - padding1.right,
            h1 = 350 - padding1.top - padding1.bottom,
            r1 = Math.min(w1, h1) / 2,
            rotation1 = 0,
            oldrotation1 = 0,
            picked1 = 100000,
            oldpick1 = [],
            color1 = d3.scale.category20(),
            ra=60;
    }
    else if (screen.width < 514) {
        console.log("YES")
        var padding1 = { top: 20, right: 40, bottom: 0, left: 0 },
            w1 = 400 - padding1.left - padding1.right,
            h1 = 400 - padding1.top - padding1.bottom,
            r1 = Math.min(w1, h1) / 2,
            rotation1 = 0,
            oldrotation1 = 0,
            picked1 = 100000,
            oldpick1 = [],
            color1 = d3.scale.category20(),
            ra=60;
    }
    else {
        var padding1 = { top: 20, right: 40, bottom: 0, left: 0 },
            w1 = 500 - padding1.left - padding1.right,
            h1 = 500 - padding1.top - padding1.bottom,
            r1 = Math.min(w1, h1) / 2,
            rotation1 = 0,
            oldrotation1 = 0,
            picked1 = 100000,
            oldpick1 = [],
            color1 = d3.scale.category20(),
            ra=60;
    }

    var data1 = [
        { "label": "Law", "value": 11, "question1": "You will study in Law College" }, // padding1
        { "label": "Medical", "value": 12, "question1": "You will study in Medical College" }, //font-family
        { "label": "Super Medical", "value": 13, "question1": "You will study in Super Medical College" }, //color
        { "label": "Non Medical", "value": 14, "question1": "You will study in a Non Medical College" }, //font-weight
        { "label": "Navy", "value": 15, "question1": "You will study in a  Navy College" }, //font-size
        { "label": "Engineering", "value": 16, "question1": "You will study in a Engineering College" }, //background-color
        { "label": "Army", "value": 17, "question1": "You will study in a  Army College" }, //nesting
        { "label": "Commerce", "value": 18, "question1": "You will study in a Commerce College" }, //bottom
        { "label": "Arts", "value": 19, "question1": "You will study in a Arts College" }, //sans-serif
        { "label": "Counsellor", "value": 20, "question1": "You will study in a  College Counsellor " }
    ];
    var svg1 = d3.select('#chart1')
        .append("svg")
        .data([data1])
        .attr("width", w1 + padding1.left + padding1.right)
        .attr("height", h1 + padding1.top + padding1.bottom);
    var container1 = svg1.append("g")
        .attr("class", "chartholder")
        .attr("transform", "translate(" + (w1 / 2 + padding1.left) + "," + (h1 / 2 + padding1.top) + ")");
    var vis1 = container1
        .append("g");

    var pie1 = d3.layout.pie().sort(null).value(function (d) { return 1; });
    // declare an arc generator function
    var arc1 = d3.svg.arc().outerRadius(r1);
    // select paths, use arc generator to draw
    var arcs1 = vis1.selectAll("g.slice1")
        .data(pie1)
        .enter()
        .append("g")
        .attr("class", "slice1");

    arcs1.append("path")
        .attr("fill", function (d1, i) { return color1(i); })
        .attr("d", function (d1) { return arc1(d1); });
    // add the text
    arcs1.append("text").attr("transform", function (d1) {
        d1.innerRadius = 0;
        d1.outerRadius = r1;
        d1.angle = (d1.startAngle + d1.endAngle) / 2;
        return "rotate(" + (d1.angle * 180 / Math.PI - 90) + ")translate(" + (d1.outerRadius - 10) + ")";
    })
        .attr("text-anchor", "end")
        .text(function (d1, i) {
            return data1[i].label;
        });
    container1.on("click", spin1);
    function spin1(d) {

        container1.on("click", null);
        //all slices have been seen, all done
        console.log("Oldpick: " + oldpick1.length, "Data length: " + data1.length);
        if (oldpick1.length == data1.length) {
            console.log("done");
            container1.on("click", null);
            return;
        }
        var ps1 = 360 / data1.length,
            pieslice1 = Math.round(1440 / data1.length),
            rng1 = Math.floor((Math.random() * 1440) + 360);

        rotation1 = (Math.round(rng1 / ps1) * ps1);

        picked1 = Math.round(data1.length - (rotation1 % 360) / ps1);
        picked1 = picked1 >= data1.length ? (picked1 % data1.length) : picked1;
        if (oldpick1.indexOf(picked1) !== -1) {
            d3.select(this).call(spin1);
            return;
        } else {
            oldpick1.push(picked1);
        }
        rotation1 += 90 - Math.round(ps1 / 2);
        vis1.transition()
            .duration(3000)
            .attrTween("transform", rotTween1)
            .each("end", function () {
                //mark question as seen
                d3.select(".slice1:nth-child(" + (picked1 + 1) + ") path")
                    .attr("fill", "#111");
                //populate question
                d3.select("#question1 h1")
                    .text(data1[picked1].question1);
                oldrotation1 = rotation1;

                /* Get the result value from object "data" */
                console.log(data1[picked1].value)

                /* Comment the below line for restrict spin1 to sngle time */
                container1.on("click", spin1);
            });
    }
    //make arrow
    svg1.append("g")
        .attr("transform", "translate(" + (w1 + padding1.left + padding1.right) + "," + ((h1 / 2) + padding1.top) + ")")
        .append("path")
        .attr("d", "M-" + (r1 * .15) + ",0L0," + (r1 * .05) + "L0,-" + (r1 * .05) + "Z")
        .style({ "fill": "black" });
    //draw spin circle
    container1.append("circle")
        .attr("cx", 0)
        .attr("cy", 0)
        .attr("r", ra)
        .style({ "fill": "white", "cursor": "pointer" });
    //spin text
    container1.append("text")
        .attr("x", 0)
        .attr("y", 15)
        .attr("text-anchor", "middle")
        .text("SPIN")
        .style({ "font-weight": "bold", "font-size": "30px", "transform": "rotate(-90deg)" });


    function rotTween1(to) {
        var i1 = d3.interpolate(oldrotation1 % 360, rotation1);
        return function (t1) {
            return "rotate(" + i1(t1) + ")";
        };
    }


    function getRandomNumbers() {
        var array1 = new Uint16Array(1000);
        var scale1 = d3.scale.linear().range([360, 1440]).domain([0, 100000]);
        if (window.hasOwnProperty("crypto") && typeof window.crypto.getRandomValues === "function") {
            window.crypto.getRandomValues(array1);
            console.log("works");
        } else {
            //no support for crypto, get crappy random numbers
            for (var i = 0; i < 1000; i++) {
                array1[i] = Math.floor(Math.random() * 100000) + 1;
            }
        }
        return array1;
    }

</script>


<script>
    var blocks = 150
const cb = document.querySelector('#crossword_board')
var md = false
var num_words = 5

function addBlocks() {
  for(var i=0;i<blocks;i++){
    var b = document.createElement('div')
    b.className = 'block'
    cb.appendChild(b)
  }
}

function addWords(){  
  var words = ['programmer','accountant','artist','engineer','doctor','farmer','soilder','pilot','writer', 'teacher'] 
  // max word length of 10
  words.sort(() => Math.random() - 0.5);
  words = words.slice(0,num_words)

  var arr = [];
  while(arr.length < 5){
    var r = Math.floor(Math.random() * 10);
    if(arr.indexOf(r) === -1) arr.push(r);
  }

  words.forEach(function(elm){
    var word_length = elm.length
    var offset = Math.floor(Math.random()*(11-word_length))
    var w_start = offset + (arr[0] * 10)
    arr.shift()    
    elm.split('').forEach(function(e){
      var b = document.querySelectorAll('.block')[w_start]
      b.innerHTML = e
      b.classList.add('letter')
      b.classList.add(elm)
      b.onmousedown = function() {
        this.classList.add('letter_pop')
        // this.style.background = this.classList[2]
        if(document.querySelectorAll('.'+elm+'.letter_pop').length == elm.length) {
          document.querySelectorAll('.listed_word').forEach(function(e){
            if(e.innerHTML == elm) {
              e.classList.add('found_word')
              document.documentElement.style.setProperty('--bg-color', e.innerHTML)
            }
          })
        }
        setTimeout(you_win, 500)
      }
      b.onmouseenter = function() {
        if(md) {
          this.classList.add('letter_pop')
          this.style.background = this.classList[2]
          if(document.querySelectorAll('.'+elm+'.letter_pop').length == elm.length) {
            document.querySelectorAll('.listed_word').forEach(function(e){
              if(e.innerHTML == elm) {
                e.classList.add('found_word')
                document.documentElement.style.setProperty('--bg-color', "turquoise")
              }
            })
          }
          setTimeout(you_win, 500)
        }        
      }

      if(elm.split('').indexOf(e) == 0 
         && (b.previousSibling
             && !b.previousSibling.classList.contains(elm)) 
         || !b.previousSibling) {
        b.classList.add('first_letter')
      }
      if(elm.split('').indexOf(e) == elm.split('').length - 1) {
        b.classList.add('last_letter')
      }      
      w_start++
    })
    var w = document.createElement('div')
    w.className = 'listed_word'
    w.innerHTML = elm
    document.body.appendChild(w)
  })    
}

function you_win() {
  if(document.querySelectorAll('.found_word').length == num_words) {
    md = false
    cb.removeEventListener('mousedown', mouse_down)
    cb.removeEventListener('mouseup', mouse_down)

    cb.classList.add('game_winner')
  }
}

const alphabet = 'abcdefghijklmnopqrstuvwxyz'
function fillInEmpty() {
  var b = document.querySelectorAll('.block')
  b.forEach(function(elm){
    if(elm.innerHTML == '') {
      var letter = alphabet.split('')[Math.floor(Math.random()*alphabet.length)]
      elm.innerHTML = letter
    }
  })
}

addBlocks()
addWords()
fillInEmpty() 

function mouse_down(event) {
  if(!md) {
    md = true
  } else {
    md = false
  }

  if(event.type == 'touchmove') {
    var block = document.elementFromPoint(event.touches[event.touches.length - 1].clientX, event.touches[event.touches.length - 1].clientY)
    if(block.classList.contains('letter')) {
      block.style.background = block.classList[2]
      block.classList.add('letter_pop')      
    }
    var elm = block.classList[2]
    if(document.querySelectorAll('.'+elm+'.letter_pop').length == elm.length) {
      document.querySelectorAll('.listed_word').forEach(function(e){
        if(e.innerHTML == elm) {
          e.classList.add('found_word')
          document.documentElement.style.setProperty('--bg-color', e.innerHTML)
        }
      })
    }
    setTimeout(you_win, 500)
  }
}

function setGameUp() {
  cb.innerHTML = ''
  cb.className = ''
  document.documentElement.style.setProperty('--bg-color', '#666')
  document.querySelectorAll('.listed_word').forEach(function(e){
    e.remove()
  })

  addBlocks()
  addWords()
  fillInEmpty() 

  cb.addEventListener('mousedown', mouse_down)
  cb.addEventListener('mouseup', mouse_down)
  cb.addEventListener('touchmove', mouse_down)
}

setGameUp()
</script>
</html>
